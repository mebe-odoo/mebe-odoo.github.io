(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{276:function(e,t,s){"use strict";s.r(t);var a=s(13),n=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"awesome-school-part-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#awesome-school-part-2"}},[e._v("#")]),e._v(" Awesome School - Part 2")]),e._v(" "),t("p",[e._v("This is a continuation of "),t("RouterLink",{attrs:{to:"/tco/exercises/awesome_school.html"}},[e._v("Awesome School - Part 1")])],1),e._v(" "),t("p",[e._v("To further expand the functionalities of your application, the organization has come back to your company with the following change requests:")]),e._v(" "),t("h2",{attrs:{id:"student-information"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#student-information"}},[e._v("#")]),e._v(" Student Information")]),e._v(" "),t("p",[e._v("The base fields available on the "),t("code",[e._v("res.partner")]),e._v(" model are not enough to fill out all the information required for the students.")]),e._v(" "),t("p",[e._v("To amend that, add three new fields on the model: "),t("strong",[e._v("Date of Birth")]),e._v(" and "),t("strong",[e._v("Place of Birth")]),e._v(", which are primitive Date & Text fields,\nAnd an "),t("strong",[e._v("Is Student")]),e._v(" field, which is a boolean that should be computed based on whether a partner is set as a student on any classroom record.")]),e._v(" "),t("p",[t("strong",[e._v("Hint:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("< INHERIT THE RES.PARTNER MODEL >\n\nClass ResPartner(models.Model):\n    _inherit = ...\n\n< EXTEND THE FORM VIEW FOR RES.PARTNER TO ADD THE TWO NEW FIELDS >\n<record id='<CUSTOM_ID>' model='ir.ui.view'>\n    ...\n    <field name='inherit_id' ref='base.view_partner_form'/>\n    <field name='arch' type='xml'>\n        ...\n    </field>\n    ...\n</record>\n\n")])])]),t("h2",{attrs:{id:"show-the-list-of-students"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#show-the-list-of-students"}},[e._v("#")]),e._v(" Show the list of students")]),e._v(" "),t("p",[e._v("There needs to be a way to display the students directly from the Awesome School app.\nTo achieve this, create a new "),t("strong",[e._v("Window Action")]),e._v(" for the "),t("strong",[e._v("res.partner")]),e._v(" model with the appropriate domain,\nthat will display only the records where "),t("strong",[e._v("Is Student")]),e._v(" is set to True on the Tree/Form view.")]),e._v(" "),t("p",[t("strong",[e._v("Hint:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\n< CREATE A NEW WINDOW ACTION LINKED TO THE PARTNERS AND SET A DOMAIN >\n<record id='<CUSTOM_ID>' model='ir.actions.act_window'>\n    ...\n    <field name='res_model'>...</field>\n    <field name='domain'>...</field>\n    ...\n</record>\n\n< CREATE A NEW MENUITEM LINKED TO THE ACTION THAT SHOULD HAVE THE ROOT MENUITEM AS ITS PARENT >\n\n<menuitem ... />\n\n")])])]),t("h2",{attrs:{id:"study-sessions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#study-sessions"}},[e._v("#")]),e._v(" Study Sessions")]),e._v(" "),t("p",[e._v("The organization wishes to be able to manage study sessions for different classrooms.\nTo achieve this, create a new "),t("code",[e._v("awesome.classroom.session")]),e._v(" model which should have the following attributes:")]),e._v(" "),t("ul",[t("li",[e._v("Date Start: Date at which the session started")]),e._v(" "),t("li",[e._v("Date End: Date at which the session ended")]),e._v(" "),t("li",[e._v("Subject: The subject of the study session. Can be one of Science, Physics, Mathematics, Art, English, Arabic, Other")])]),e._v(" "),t("p",[e._v("The Classroom should hold a reference to all the study sessions linked to it, and a button should be shown on the form\nview of the Classroom to see all the study sessions or create new ones.")]),e._v(" "),t("p",[e._v("Also, create a new Server Action linked to the Classrooms that allows automatically create a new Study Session linked\nto each Classroom selected.")]),e._v(" "),t("p",[t("strong",[e._v("Hint:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("< CREATE THE NEW MODEL >\n\nClass StudySession(models.Model):\n    _name = '...'\n    _description = '...'\n\nAlso create the views, the action, security and menuitem\n")])])]),t("h2",{attrs:{id:"add-a-constraint-on-study-sessions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-a-constraint-on-study-sessions"}},[e._v("#")]),e._v(" Add a Constraint on Study Sessions")]),e._v(" "),t("p",[e._v("No two study sessions can take place on the same period. i.e: A study session cannot have a start date that is\ngreater than or equal to another's start date, and lesser than or equal to another's end date.")]),e._v(" "),t("p",[t("strong",[e._v("Hint:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("< ADD A CONSTRAINT >\n@api.constrains\ndef _constrain_study_period(self)\n    ...\n\n")])])]),t("h2",{attrs:{id:"add-a-constraint-on-classrooms"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-a-constraint-on-classrooms"}},[e._v("#")]),e._v(" Add a Constraint on Classrooms")]),e._v(" "),t("p",[e._v("No two classrooms can have the same teacher.")]),e._v(" "),t("p",[t("strong",[e._v("Hint:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("< ADD A CONSTRAINT >\n_sql_constraint = [...]\n\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);